{% extends "base.html" %}
{% block title %}–í—Å–µ –∫—É—Ä—Å—ã ‚Äî EduFlex{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/courses.css') }}">
{% endblock %}

{% block content %}
<main class="courses-page">
  <section class="courses-header">
    <h1>–í—Å–µ –∫—É—Ä—Å—ã EduFlex</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫—É—Ä—Å –∏ –Ω–∞—á–Ω–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</p>

    <!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ —Å –∫–Ω–æ–ø–∫–æ–π –ª—É–ø—ã -->
    <form class="search-bar" action="{{ url_for('courses.courses_main') }}" method="get">
      <input type="text" name="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∫—É—Ä—Å–∞–º" value="{{ search_query }}">

      <label class="custom-checkbox">
        <input type="checkbox" name="show_all" {% if show_all %}checked{% endif %}>
        <span class="checkmark"></span>
        –í—Å–µ –∫—É—Ä—Å—ã
      </label>

      <button type="submit" class="search-btn">
        <span class="icon">üîç</span>
      </button>
    </form>
  </section>

  <section class="courses-grid">
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∫—É—Ä—Å–æ–≤ -->
    {% for course in courses %}
    <div class="course-card">
      {% if course in current_user.courses %}
      <div class="course-status studying">–ò–∑—É—á–µ–Ω–∏–µ –∏–¥—ë—Ç</div>
      {% endif %}

      <div class="card-content">
        <h3>{{ course.title }}</h3>
        <p>{{ course.description }}</p>
        <p><strong>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å:</strong> {{ course.teacher }}</p>
        <div class="rating">‚≠ê {{ course.rating }} ({{ course.reviews }} –æ—Ç–∑—ã–≤–æ–≤)</div>
      </div>
      <a href="{{ url_for('courses.course_detail', slug=course.slug) }}" class="btn full-width">–ö –∫—É—Ä—Å—É</a>
    </div>
    {% endfor %}
  </section>
</main>
{% endblock %}